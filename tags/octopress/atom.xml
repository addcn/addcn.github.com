<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: octopress | uedao]]></title>
  <link href="http://addcn.github.com/tags/octopress/atom.xml" rel="self"/>
  <link href="http://addcn.github.com/"/>
  <updated>2013-06-05T10:22:18+08:00</updated>
  <id>http://addcn.github.com/</id>
  <author>
    <name><![CDATA[addcn]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[octopress高级配置]]></title>
    <link href="http://addcn.github.com/blog/2013/04/01/octopress-advanced-setting/"/>
    <updated>2013-04-01T18:43:00+08:00</updated>
    <id>http://addcn.github.com/blog/2013/04/01/octopress-advanced-setting</id>
    <content type="html"><![CDATA[<p><strong>1、基本设置</strong></p>

<p>文章留言功能<br/>
<code>_config.yml</code>设置：<code>disqus_short_name:addcn #非注册帐号，注册后新建留言的帐号</code></p>

<p>最近文章列表</p>

<p>谷歌分析统计</p>

<p>github链接</p>

<p><strong>2、新浪微博侧栏</strong></p>

<p>增加文件：<code>source/_includes/asides/weibo.html</code><br/>
<code>_config.yml</code> 增加：<code>default_asides: [..., asides/weibo.html...]</code></p>

<p><strong>3、博客分类功能</strong></p>

<p><strong>4、博客标签云功能</strong></p>

<p><strong>5、新窗口打开非站内链接</strong></p>

<p><strong>6、页面返回底部功能</strong></p>

<p><strong>7、参考文章</strong></p>

<ul>
<li><a href="http://yanping.me/cn/blog/2012/01/07/theming-and-customization/">为Octopress修改主题和自定义样式</a></li>
<li><a href="http://programus.github.com/blog/2012/03/03/add-weibo-sidebar-into-octopress/">为Octopress博客追加新浪微博侧栏</a></li>
<li><a href="http://ccaloha.cc/blog/2011/10/25/xin-zeng-liu-yan-gong-neng-in-octopress/">新增留言功能in Octopress</a></li>
<li><a href="http://blog.eddie.com.tw/2011/12/05/add-catetories-to-sidebar-in-octopress/">幫你的Octopress增加文章分類</a></li>
<li><a href="http://yanping.me/cn/blog/2012/03/18/github-pages-step-by-step/">Github Pages极简教程</a></li>
<li><a href="http://codemacro.com/2012/07/18/add-tag-to-octopress/">为octopress添加tag Cloud</a></li>
<li><a href="http://blog.log4d.com/2012/05/tag-cloud/">给 Octopress 加上标签功能</a></li>
<li><a href="http://codemacro.com/2012/07/26/post-footer-plugin-for-octopress/">为octopress每篇文章添加一个文章信息</a></li>
<li><a href="http://tillage.github.io/jinja2/jinja2-template/">Jinja2 Template</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在github搭建octopress博客]]></title>
    <link href="http://addcn.github.com/blog/2013/04/01/blog-on-github-octopress/"/>
    <updated>2013-04-01T14:19:00+08:00</updated>
    <id>http://addcn.github.com/blog/2013/04/01/blog-on-github-octopress</id>
    <content type="html"><![CDATA[<h2>一、搭建基于github的博客</h2>

<p><strong>1、注册帐号</strong><br/>
地址 <a href="https://github.com/users">https://github.com/users</a></p>

<p><strong>2、安装octopress</strong><br/>
参照官方安装指引<a href="http://octopress.org/docs/">http://octopress.org/docs/</a></p>

<pre class="terminal"><code>git clone git://github.com/imathis/octopress.git octopress
cd octopress
ruby --version  # Should report Ruby 1.9.3，我的是1.9.2不管它
gem install bundler
bundle install
rake install
</code></pre>


<p><strong>3、github新建版本库</strong></p>

<p>在github上<a href="https://github.com/new">https://github.com/new</a> 新建一个命名注意为<code>username.github.com</code>的<code>repo</code>（参考<a href="http://xuhehuan.com/783.html">http://xuhehuan.com/783.html</a>）。</p>

<pre class="terminal"><code>Repository name addcns.github.com
Description (optional)  octopress
Initialize this repository with a README
</code></pre>


<p><strong>4、写博客发布文章</strong></p>

<p><strong>本地修改预览</strong></p>

<pre class="terminal"><code>rake setup_github_pages
git@addcns.github.com:addcns/addcns.github.com #注意多帐号，使用git@addcns.github.com:addcns，而非git@github.com:addcns
rake install #安装默认主题
rake new_post["titile"] #创建文章
rake new_page[super-awesome] #创建页面
rake -T #查看rake参数
rake generate #生成静态
rake preview #本地预览
</code></pre>


<p>预览地址<a href="http://localhost:4000/">http://localhost:4000/</a></p>

<p><strong>提交发布线上</strong></p>

<pre class="terminal"><code>rake deploy #发布到master分支,访问http:/addcns.github.com
git add . #源文件发布source分支
git commit -m "init octopress"
git push origin source
</code></pre>


<p>最后访问见<a href="http://addcns.github.com">http://addcns.github.com</a></p>

<p><strong>中文乱码问题</strong></p>

<p>执行rake generate提示<code>rake generate Liquid Exception:invalid byte sequence in UTF-8 in post</code></p>

<p>为了支持中文UTF-8编码，对Windows环境变量配置如下：</p>

<pre class="terminal"><code>LANG=zh_CN.UTF-8  
LC_ALL=zh_CN.UTF-8</code></pre>


<p>也可在直接在Windows的cmd窗口下运行命令：</p>

<pre class="terminal"><code>set LANG=zh_CN.UTF-8 
set LC_ALL=zh_CN.UTF-8</code></pre>


<ul>
<li><code>_config.yml</code>另存为<code>utf-8</code>编码格式文件</li>
<li>文章<code>_post</code>使用<code>utf-8</code>编码文件</li>
</ul>


<h2>二、多个GitHub帐号的SSH key切换</h2>

<p>为了测试注册两个github帐号，<code>rake deploy</code>时候会提示输入默认的id_rsa的密钥，所以需要切换帐号。（参考<a href="http://www.zikercn.com/node/20">http://www.zikercn.com/node/20</a>）</p>

<p><strong>1、生成id_rsa_addcns（区分默认id_rsa）</strong></p>

<pre class="terminal"><code>ssh-keygen -t rsa -C "***@addcn.com"
Enter file in which to save the key (/c/Documents and Settings/10113/.ssh/id_ras):
id_rsa_addcns
Enter passphrase(empty for no passphrase):
******
ssh-agent bash #报错：Could not open a connection to your authentication agent
ssh-add id_rsa_addcns #增加id_rsa_addcns
</code></pre>


<p><strong>2、修改.ssh/id_rsa/config文件（无直接新建立）</strong></p>

<pre class="terminal"><code># Default github user(***@gmail.com)
Host github.com
HostName github.com
User git
IdentityFile /c/Docume~1/10113/.ssh/id_rsa
 
# second user(***@addcn.com)
Host addcns.github.com
HostName github.com
User git
IdentityFile /c/Docume~1/10113/.ssh/id_rsa_addcns
</code></pre>


<p><strong>3、增加ssh key</strong></p>

<p>登录github（<a href="https://github.com/settings/ssh">https://github.com/settings/ssh</a>），左边面板选择ssh，然后把上步生成的<code>.ssh/id_rsa_addcns.pub</code>用记事本打开，复制里面的内容到Key表单。</p>

<p><strong>4、增加用户</strong></p>

<pre class="terminal"><code>git config --list
git config --global user.name "addcns"
git config --global user.email ***@addcns.com
</code></pre>


<p><strong>5、验证github是否正确</strong></p>

<pre class="terminal"><code>ssh -T git@github.com
</code></pre>


<p>没有错误可以看到提示的：<code>Hi,addcns! You've successfully authenticated...</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[octopress自定义主题]]></title>
    <link href="http://addcn.github.com/blog/2013/04/01/octopress-custom-theme/"/>
    <updated>2013-04-01T11:16:00+08:00</updated>
    <id>http://addcn.github.com/blog/2013/04/01/octopress-custom-theme</id>
    <content type="html"><![CDATA[<p>终于把octopress完整的修改了一下，记录下步骤：</p>

<p><strong>1、新增主题<code>simple</code></strong></p>

<p>以默认classic主题，新建自定义主题，复制<code>.themes/classic</code>到<code>.themes/simple</code>。</p>

<p>执行以下命令：</p>

<pre class="terminal"><code>rake install[simple] #安装主题
rake clean
rake update_style[simple] #更新sass，会把旧的sass重命名为sass.old
rake update_source[simple] #更新source，会把旧的source重命名为source.old
rake generate
rake preview #预览，
rake deploy
</code></pre>


<p><code>rake preview</code>启动预览后，修改<code>source</code>或<code>sass</code>下的文件后可不用重新启动，其会<strong>实时刷新</strong>。</p>

<p><strong>注意：</strong>调试修改过程会直接修改<code>source</code>或<code>sass</code>文件，完成后必须记得把修改内容拷贝到<code>.themes/simple</code>，否则<code>rake update_source[simple]</code>会直接覆盖掉修改过的文件。</p>

<p><strong>2、修改布局文件<code>source</code></strong></p>

<p>主人口文件<code>source/_layouts/default.html</code></p>

<p><strong>3、修改样式文件<code>sass</code></strong></p>

<p>可直接修改<code>sass/custom/_styles.scss</code>，该样式文件页面<strong>最后加载</strong>的css，里面定义的样式会覆盖其它。</p>
]]></content>
  </entry>
  
</feed>
